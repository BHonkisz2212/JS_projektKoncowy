<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Konfiguracja samochodu</title>
    <link rel="stylesheet" href="./styles/global.css" />
    <link rel="stylesheet" href="./styles/cardetails.css" />
    <script defer src="./scripts/cardetails.js"></script>
    <script defer src="./scripts/carlist.js"></script>
</head>
<body>
     <h1>Podsumowanie Samochodu</h1>
    <div id="car-summary">
        <p id="car-mark">Marka: </p>
        <p id="car-price">Cena: </p>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const params = new URLSearchParams(window.location.search);
            const carMark = params.get('mark');
            const carPrice = params.get('price');
            
            document.getElementById('car-mark').innerText = `Marka: ${carMark}`;
            document.getElementById('car-price').innerText = `Cena: $${carPrice}`;
        });
        
    </script>
    <div id="container">
        <div id="car-mark-container"></div>
        <header>
    
            <nav>

            </nav>
          </header>
    <form id="car-config-form" onsubmit="return validateForm()">
        <form id="car-config-form"> 
        <div>
            <h3 class="configheader">Finansowanie:</h3><br>
            <input type="radio" id="leasing" name="finance" value="leasing" required>
            <label for="leasing">Leasing</label><br>
            <input type="radio" id="cash" name="finance" value="cash" required>
            <label for="cash">Gotówka</label><br>
        </div>
        <div>
            <h3 class="configheader">Imię i nazwisko właściciela:</h3><br>
            <input type="text" id="owner-name" name="ownerName" placeholder="Wprowadź dwie nazwy oddzielone spacją" required><br>
        </div>
        <div>
            <h3 class="configheader">Data dostawy:</h3><br>
            <input type="date" id="delivery-date" name="deliveryDate" required>
            <h3 class="configheader">Wybór akcesoriów:</h3><br>
            <div>
                <div class="accessories">
                    <input type="checkbox" id="heated-seats" name="accessories[]" value="Podgrzewane fotele - $500">
                    <label for="heated-seats">Podgrzewane fotele - $500</label><br>
                    <input type="checkbox" id="gps" name="accessories[]" value="Nawigacja GPS - $300">
                    <label for="gps">Nawigacja GPS - $300</label><br>
                    <input type="checkbox" id="premium-audio" name="accessories[]" value="System audio premium - $700">
                    <label for="premium-audio">System audio premium - $700</label><br>
                </div>
            </div>
            

            <div id="error-message" style="color: red; display: none;">Proszę uzupełnić wszystkie pola poprawnie.</div>
            <div id="success-message" style="color: green; display: none;">Potwierdzenie zakupu: Samochód został
                skonfigurowany i zakupiony.</div>
                <button type="button" id="purchaseButton" class ="btn" onclick="validateForm()">Zakup</button>
            </form>
            <button  id="btn-return" class="btn btn-return" onclick="window.location.href='index.html'">Powrót do listy
                samochodów</button>
            <button id="returnButton" class="btn" onclick="clearLocalStorage()">Wyczyść dane w formularzu</button>
</div>
</body>
</html>